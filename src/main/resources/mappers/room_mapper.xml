<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 복사해서 사용 -->
<mapper namespace="roomMapper">
    <resultMap id="options" type="com.green.hanbang.room.vo.OptionsVO">
        <id column="OPTION_CODE" property="optionCode"/>
        <result column="OPTION_NAME" property="optionName"/>
        <collection property="detailOptionList" resultMap="detailOptions"/>
    </resultMap>
    <resultMap id="detailOptions" type="com.green.hanbang.room.vo.DetailOptionsVO">
        <id column="DETAIL_OPTION_CODE" property="detailOptionCode"/>
        <result column="DETAIL_OPTION_NAME" property="detailOptionName"/>
        <result column="OPTION_CODE" property="optionCode"/>
    </resultMap>

    <resultMap id="propertyType" type="com.green.hanbang.room.vo.PropertyTypeVO">
        <id column="PROPERTY_TYPE_CODE" property="propertyTypeCode"/>
        <result column="PROPERTY_TYPE_NAME" property="propertyTypeName"/>
        <collection property="subPropertyTypeList" resultMap="subPropertyType"/>
    </resultMap>

    <resultMap id="subPropertyType" type="com.green.hanbang.room.vo.SubPropertyTypeVO">
        <id column="SUB_PROPERTY_TYPE_CODE" property="subPropertyTypeCode"/>
        <result column="SUB_PROPERTY_TYPE_NAME" property="subPropertyTypeName"/>
        <result column="PROPERTY_TYPE_CODE" property="propertyTypeCode"/>
    </resultMap>
    <!--option select-->
    <select id="selectOptions" resultMap="options">
        SELECT OP.OPTION_CODE
        , OPTION_NAME
        , DETAIL_OPTION_CODE
        , DETAIL_OPTION_NAME
        FROM OPTIONS OP, DETAIL_OPTIONS DTOP
        WHERE OP.OPTION_CODE = DTOP.OPTION_CODE
    </select>
    <select id="selectProperty" resultMap="propertyType">
        SELECT PT.PROPERTY_TYPE_CODE
        , PROPERTY_TYPE_NAME
        , SUB_PROPERTY_TYPE_CODE
        , SUB_PROPERTY_TYPE_NAME
        FROM PROPERTY_TYPE PT, SUB_PROPERTY_TYPE SPT
        WHERE PT.PROPERTY_TYPE_CODE = SPT.PROPERTY_TYPE_CODE
    </select>
</mapper>































