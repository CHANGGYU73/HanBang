<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/main_layout}" >
<head>
<meta charset="UTF-8">
<title></title>
</head>
<body>
<th:block layout:fragment="content">
 <h3>메인 페이지 지도</h3>
 <div class="row">
    <div class="col-4">
        <div class="select_room">
            <ul th:each="room : ${roomList}">
                <div>
                    <img style="width: 200px;" th:src="${'/img/' + 'room/' + room.imgList[0].attachedFileName}" alt="">
                </div>            
                <div class="text" >
                    <th:block th:if="${room.jeonseCost != null}">
                        <h4>전세 [[${room.jeonseCost}]]</h4>
                    </th:block>
                    <th:block th:if="${room.monthlyLease != null}">
                        <h4>월세 [[${room.deposit}]]/[[${room.monthlyLease}]]</h4>
                    </th:block>
                    <p>[[${room.roomAddrVO.addr}]]</p>
                    <input type="hidden" th:value="${room.roomAddrVO.coordinateX}" class="coordinate-X">
                    <input type="hidden" th:value="${room.roomAddrVO.coordinateY}" class="coordinate-Y">
                    <p class="ellipsis"><th:block th:each="propertyType : ${propertyTypeList}" th:if="${room.propertyTypeCode == propertyType.propertyTypeCode}">[[${propertyType.propertyTypeName}]]</th:block>, [[${room.roomSizeP}]]평, [[${room.floor}]]층</p>
                    <p class="ellipsis">
                        <th:block th:each="Option : ${Options}">
                            <th:block th:each="detailOption : ${Option.detailOptionList}" >
                                 <th:block th:if="${room.detailOptions.contains(detailOption.detailOptionCode)}">
                                     [[${detailOption.detailOptionName}]]
                                 </th:block> 
                             </th:block>
                         </th:block>
                    </p>
                    <p class="ellipsis">[[${room.content}]]</p>
                </div>
            </ul>
        </div>
    </div>
    <div class="col-8" id="map" style="height: 400px; width: 65%;"></div>
 </div>


  <title>주소 위치 표시</title>
</head>
<body>
  <div id="map" style="width: 100%; height: 400px;"></div>
  <script>
    var map;
    var addressData = [
  { ADDR: 'ADDR_001', 주소: '제주특별자치도 제주시 첨단로 242', 경도: 126.57049341667, 위도: 33.4506810661721 },
  { ADDR: 'ADDR_002', 주소: '서울특별시 강남구 강남대로 123', 경도: 127.022836, 위도: 37.501452 },
  { ADDR: 'ADDR_003', 주소: '부산광역시 해운대구 해운대로 181', 경도: 129.131945, 위도: 35.160596 },
  { ADDR: 'ADDR_004', 주소: '인천광역시 연수구 연수로 123', 경도: 126.632464, 위도: 37.408179 },
  { ADDR: 'ADDR_005', 주소: '대구광역시 수성구 달구벌대로 567', 경도: 128.635847, 위도: 35.839925 },
  { ADDR: 'ADDR_006', 주소: '대전광역시 유성구 유성대로 432', 경도: 127.349612, 위도: 36.365904 }
];

    function initMap() {
      map = new kakao.maps.Map(document.getElementById('map'), {
        center: new kakao.maps.LatLng(33.4506810661721, 126.57049341667),
        level: 9
      });

      // 주소 데이터를 반복하여 지도에 마커 표시
      for (var i = 0; i < addressData.length; i++) {
        var marker = new kakao.maps.Marker({
          map: map,
          position: new kakao.maps.LatLng(addressData[i].위도, addressData[i].경도),
          title: addressData[i].ADDR
        });

        // 마커 클릭 시 정보 표시
        kakao.maps.event.addListener(marker, 'click', function() {
          alert('주소: ' + addressData[i].주소);
        });
      }
    }
  </script>


 <script src="http://code.jquery.com/jquery-latest.min.js"></script>
 <script type="text/javascript"
 src="//dapi.kakao.com/v2/maps/sdk.js?appkey=22ce9cdc2a0d0a47b1149d42f3bab1c0&libraries=services,clusterer,drawing"></script>
 <script src="/js/room/rooo_main.js"></script>
</th:block>
</body>
</html>