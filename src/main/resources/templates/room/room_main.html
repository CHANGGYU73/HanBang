<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/main_layout}">

<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<body>
    <th:block layout:fragment="content">
        <link rel="stylesheet" href="/css/room/room_main.css">
        <h3>메인 페이지 지도</h3>
        <div class="row">
            <div class="col">
                <form action="/room/" method="post">
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <select name="searchTradeTypeCode">
                                        <option value="">전체</option>
                                        <option th:selected="${roomSearchVO.searchTradeTypeCode == tradeType.tradeTypeCode}" th:each="tradeType : ${tradeTypeList}" th:value="${tradeType.tradeTypeCode}">[[${tradeType.tradeTypeName}]]
                                        </option>
                                    </select>
                                    <div>
                                        <th:block th:each="propertyType, state : ${propertyTypeList}">
                                            <input type="radio" th:value="${propertyType.propertyTypeCode}" th:data-propertyTypeName="${propertyType.propertyTypeName}" name="searchPropertyTypeCode" th:checked="${state.index==0}">
                                            <label>[[${propertyType.propertyTypeName}]]</label>
                                        </th:block>
                                    </div>
                                    <div>
                                        <label>주소검색</label>
                                        <input type="text" name="searchAddr">
                                    </div>
                                    <div>평수=<input type="number" name="searchRoomSizePMin">~<input type="number"
                                            name="searchRoomSizePMax">평</div>
                                    <div>m&#178;=<input type="number" name="searchRoomSizeMMin">~<input type="number"
                                            name="searchRoomSizeMMax">m&#178;</div>
                                    <div>
                                        <input type="number" name="searchFloor">
                                        <label>층</label>
                                    </div>
                                    <div>
                                        <input type="number" name="searchMonthlyLeaseMax">
                                        <label for="">월세</label>
                                        <input type="number" name="searchDeposit">
                                        <label for="">보증금</label>
                                        <input type="number" name="searchJeonseCost">
                                        <label for="">전세</label>
                                    </div>
                                    <div>
                                        <input type="number" name="searchMaintenanceCost">
                                        <label for="">관리비</label>
                                    </div>
                                    <div>
                                        <h4>옵션</h4>
                                        <div th:each="option : ${Options}">
                                            <h4>[[${option.optionName}]]</h4>
                                            <div>
                                                <th:block th:each="detailOption : ${option.detailOptionList}">
                                                    <input type="checkbox" name="searchDetailOptions"
                                                        th:value="${detailOption.detailOptionCode}" class="detailOptionCheckbox" >
                                                    [[${detailOption.detailOptionName}]]
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                    <input type="button" value="검색" id="searchButton">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-4">
                <div class="select_room">
                    <div th:each="room : ${roomList}" class="room" th:onclick="detailRoom([[${room.roomCode}]]);">
                        <div>
                            <img style="width: 200px;" th:src="${'/img/' + 'room/' + room.imgList[0].attachedFileName}"
                                alt="">
                        </div>
                        <div class="text">
                            <th:block th:if="${room.tradeTypeCode == 'TTC_001'}">
                                <h4>월세 [[${room.deposit}]]/[[${room.monthlyLease}]]</h4>
                            </th:block>
                            <th:block th:if="${room.tradeTypeCode == 'TTC_002'}">
                                <h4>전세 [[${room.jeonseCost}]]</h4>
                            </th:block>
                            <p>[[${room.roomAddrVO.addr}]]</p>
                            <input type="hidden" th:value="${room.roomAddrVO.coordinateX}" class="coordinate-X">
                            <input type="hidden" th:value="${room.roomAddrVO.coordinateY}" class="coordinate-Y">
                            <p>
                                <th:block th:each="propertyType : ${propertyTypeList}"
                                    th:if="${room.propertyTypeCode == propertyType.propertyTypeCode}">
                                    [[${propertyType.propertyTypeName}]]</th:block>, [[${room.roomSizeP}]]평,
                                [[${room.floor}]]층
                            </p>
                            
                            <p>[[${room.content}]]</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-8" id="map" style="height: 400px; width: 65%;"></div>
        </div>


        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script type="text/javascript"
            src="//dapi.kakao.com/v2/maps/sdk.js?appkey=22ce9cdc2a0d0a47b1149d42f3bab1c0&libraries=services,clusterer,drawing"></script>
        <script src="/js/room/rooo_main.js"></script>
    </th:block>
</body>

</html>