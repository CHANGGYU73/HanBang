<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragment/main_layout}">

<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<body>
    <th:block layout:fragment="content">
        <link href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/room/reg_room.css">
        <h1 class="title">방내놓기</h1>
        <div>
            <ul class="caution">
                <li><span>．</span>전/ 월세 매물만 등록할 수 있습니다.</li>
                <li><span>．</span>1개의 매물만 등록 가능하며, 다방에서 직거래로 표시됩니다.</li>
                <li><span>．</span>주소를 다르게 입력할 경우 허위매물로 신고될 수 있으니 꼭 동일하게 입력 바랍니다.</li>
            </ul>
        </div>
        <div>
            <form action="/room/insertRoom" method="post" enctype="multipart/form-data">
                <input name="userNo" type="hidden" th:value="${session.loginInfo.userNo}">
                <input name="coordinateY" id="coordinate_y" type="hidden" value=" ">
                <input name="coordinateX" id="coordinate_x" type="hidden" value=" ">
                <div class="table">
                    <h2>매물정보</h2>
                    <div>
                        <span class="essential">*</span>
                    </div>
                    <table>
                        <colgroup>
                            <col width="10%">
                            <col width="45%">
                            <col width="45%">
                        </colgroup>
                        <tbody>
                            <tr>
                                <th>매물유형 <span class="essential">*</span></th>
                                <td>
                                    <header>대분류</header>
                                    <div th:each="property, state : ${propertyList}" class="property">
                                        <input type="radio" name="propertyTypeCode"
                                            th:value="${property.propertyTypeCode}" th:checked="${state.index==0}">
                                        <label>[[${property.propertyTypeName}]]</label>
                                    </div>
                                </td>

                                <td>
                                    <header>소분류</header>
                                    <th:block th:each="property : ${propertyList}">
                                        <div th:if="${property.subPropertyTypeList}">
                                            <div class="subproperty-wrapper"
                                                th:attr="data-property-type-code=${property.propertyTypeCode}">
                                                <div class="subProperty"
                                                    th:each="subProperty, state : ${property.subPropertyTypeList}">
                                                    <input type="radio" name="subPropertyTypeCode"
                                                        th:value="${subProperty.subPropertyTypeCode}"
                                                        th:checked="${state.index==0}"
                                                        th:attr="data-parent=${property.propertyTypeCode}">
                                                    <label>[[${subProperty.subPropertyTypeName}]]</label>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                </td>
                            </tr>
                            <tr>
                                <th>매물주소 <span class="essential">*</span></th>
                                <td class="addr">
                                    <div class="addr_select">
                                        <label>주소검색</label>
                                        <input type="text" id="addr" name="addr" readonly>
                                        <input type="button" value="검색" id="select" onclick="openPost();">
                                    </div>
                                    <div class="detail_addr">
                                        <label>상세주소</label>
                                        <input type="text" name="detailAddr">
                                    </div>
                                </td>
                                <td>
                                    <div id="map"></div>
                                </td>
                            </tr>
                            <tr>
                                <th>매물크기 <span class="essential">*</span></th>
                                <td colspan="5">
                                    <div>
                                        <div>
                                            <label>전용면적</label>
                                            <input type="text" name="roomSizeP" id="roomSizeP"
                                                placeholder="평수 입력"><span>평</span>
                                            <span> = </span>
                                            <input type="text" name="roomSizeM" id="roomSizeM"
                                                placeholder="m&#178; 입력"><span>m&#178;</span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>방 정보 <span class="essential">*</span></th>
                                <td colspan="5">
                                    <div>
                                        <div>
                                            <label>층수</label>
                                            <input type="text" name="floor" placeholder="층수 입력">
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="table">
                    <h2>거래 정보</h2>
                    <table>
                        <tr>
                            <th>거래 종류 <span class="essential">*</span></th>
                            <td>
                                <th:block th:each="tradeType : ${tradeTypeList}">
                                    <input type="radio" name="tradeTypeCode" th:value="${tradeType.tradeTypeCode}">
                                    <span>[[${tradeType.tradeTypeName}]]</span>
                                </th:block>

                            </td>
                        </tr>
                        <tr>
                            <th>가격 정보 <span class="essential">*</span></th>
                            <td>
                                <div>
                                    <div>전세가</div>
                                    <input type="text" name="jeonseCost">
                                    <span>만원</span>
                                </div>
                                <div>
                                    <div>보증금</div>
                                    <input type="text" name="deposit">
                                    <span>만원</span>
                                    <div>월세</div>
                                    <input type="text" name="monthlyLease">
                                    <span>만원</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>공용관리비 <span class="essential">*</span></th>
                            <td>
                                <div>
                                    <label>관리비 여부</label>
                                    <input type="radio" id=""> 없음
                                    <input type="radio" id=""> 있음
                                </div>
                                <div>
                                    <label for="">관리비</label>
                                    <input type="text" name="maintenanceCost">
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>입주가능일자 <span class="essential">*</span></th>
                            <td>

                                <input type="radio" name="immediateOccupancy" value="Y" checked> <label>즉시 입주</label>
                                <input type="radio" name="immediateOccupancy" value="N"> <label>일자 선택</label>
                                <input type="date" name="availableMoveInDate">
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="table">
                    <h2>시설정보</h2>
                    <table class="options">
                        <tr th:each="option, state : ${optionsList}">
                            <th>[[${option.optionName}]]</th>
                            <td>
                                <th:block th:if="${option.optionCode =='OPTION_003'}">
                                    <div>
                                        <input type="checkbox" class="all_check">
                                        <label>전체선택</label>
                                    </div>
                                </th:block>
                                <th:block th:each="detailOption, state1 : ${option.detailOptionList}">
                                    <th:block th:if="${state1.index==0 and state.index==0}">
                                        <input type="radio" name="detailOptions" value="">
                                        <label>선택 안함</label>
                                    </th:block>
                                    <th:block th:if="${state.index==0}">
                                        <input type="radio" name="detailOptions"
                                            th:value="${detailOption.detailOptionCode}">
                                    </th:block>

                                    <th:block th:if="${option.optionCode =='OPTION_003'}">
                                        <th:block th:if="${state.index!=0}">
                                            <input type="checkbox" name="detailOptions"
                                                th:value="${detailOption.detailOptionCode}"
                                                class="detailOptionCheckbox">
                                        </th:block>
                                        <label>[[${detailOption.detailOptionName}]]</label>
                                    </th:block>
                                    <th:block th:if="${option.optionCode !='OPTION_003'}">
                                        <th:block th:if="${state.index!=0}">
                                            <input type="checkbox" name="detailOptions"
                                                th:value="${detailOption.detailOptionCode}">
                                        </th:block>
                                        <label>[[${detailOption.detailOptionName}]]</label>
                                    </th:block>
                                </th:block>

                            </td>
                        </tr>
                    </table>
                </div>
                <div class="table">
                    <h2>사진 등록</h2>
                    <table>
                        <tr>
                            <th>일반사진 <span class="essential">*</span></th>
                            <td>
                                <input type="file" name="mainImg">
                                <span>메인사진</span>
                                <input type="file" name="subImg" multiple>
                                <span>메인사진</span>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="table">
                    <h2>상세 설명</h2>
                    <table>
                        <tr>
                            <th>제목 <span class="essential">*</span></th>
                            <td>
                                <input type="text" name="title" placeholder="리스트에 노출되는 문구입니다. 40자 이내로 작성해 주세요.">
                                <div>0/40</div>
                                <span>- 한글, 영어, 숫자, 허용된 특수문자(+ - / , . ㎡) 이외에 문자는 입력할 수 없습니다. 평형, 평, 기타 특수문자, 매물과 관련 없는
                                    정보는 삭제 처리 됩니다.</span>
                            </td>
                        </tr>
                        <tr>
                            <th>상제설명 <span class="essential">*</span></th>
                            <td>
                                <textarea name="content" id="" cols="30" rows="10"
                                    placeholder="매물 상세 페이지에 노출되는 문구입니다. 1000자 이내로 작성해주세요"></textarea>
                                <div>0/1000</div>
                                <span>- 매물 정보와 관련없는 홍보성 정보는 입력할 수 없습니다.</span>
                                <span>- 매물등록규정에 위반되는 금칙어는 입력할 수 없습니다.</span>
                                <span>- 위 주의사항 위반시 임의로 매물 삭제 혹은 서비스 이용이 제한될 수 있습니다.</span>
                            </td>
                        </tr>
                    </table>
                </div>
                <input type="submit" value="매물등록">
            </form>
        </div>
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script type="text/javascript"
            src="//dapi.kakao.com/v2/maps/sdk.js?appkey=22ce9cdc2a0d0a47b1149d42f3bab1c0&libraries=services,clusterer,drawing"></script>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="/js/room/room_reg.js"></script>
    </th:block>

</body>

</html>